<!doctype html>
<html ng-app="car-reserve">
  <head>
    <title>TeCanal Driver</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="car-favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch.ico">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <style>
     #headerText {text-align: center; background-color: #3954ae; color: white; margin-bottom: 10px;}
     nav {margin-bottom: 0px !important; border-radius: 0 !important;}
    </style>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/3.3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.3.0/firebase-database.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyBS0oCcgGUO51WPd2AE-gJY74J3A0UQHUY",
        authDomain: "car-reserve-68af7.firebaseapp.com",
        databaseURL: "https://car-reserve-68af7.firebaseio.com",
        storageBucket: "car-reserve-68af7.appspot.com",
      };
      firebase.initializeApp(config);
    </script>
    
    <!-- Moment.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>

    <!-- Angular App Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/2.0.1/angularfire.min.js"></script>

    <script src="js/driver_app.js?v=2.4"></script>
  </head>
  <body ng-controller="CarReserveCtrl">
    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Volunteer</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
              <li class="active">
                <a href="/teach/#home">Home</a>
              </li>
              <li>
                <a href="/teach/#about">About Us</a>
              </li>
              <li>
                <a href="/teach/#outreach">Getting Started</a>
              </li>
              <li>
                <a href="faq">FAQ</a>
              </li>
              <li class="active">
                <a href="driver">Car Signup</a>
                </li>
            </ul>
        </div>
      </div>
    </nav>

    <div class="jumbotron" id="headerText">
      <style>
        #secret {color: white;}
        #secret:hover {text-decoration: none;}
      </style>
      <h1><a id="secret" href="hour-viewer.html">TeCanal</a> Drivers</h1>
    </div>

    <div class="container">
      <p style="text-align: right"><a class="btn btn-success" href="driver-registration">Driver Registration</a></p>
      
      <h1 style="text-align: center" ng-show="cars.length === 0">No Cars Registered</h1>

      <div class="jumbotron" ng-repeat="item in cars | orderBy: 'sessionDate'">
        <b>Driver: </b>{{item.driver}}<br>
        <b>Origin: </b>{{item.startingPoint}}<br>
        <b>Destination: </b>{{item.destination}}<br>
        <b>Email: </b>{{item.email}}<br>
        <b>Phone: </b>{{item.phoneNumber}}<br>
        <b>Date: </b>{{item.sessionDate}}<br>
        <b>Riders: </b><br>
        <div class="progress">
          <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="{{item.numRiders/item.maxRiders * 100}}" aria-valuemin="0" aria-valuemax="100" style="width: {{item.numRiders/item.maxRiders * 100}}%">
          	{{item.numRiders}} / {{item.maxRiders}}
          </div>
        </div>
        <b>People In Car:</b>
        <span style="display: inline">
          {{item.names.join(', ')}}
        </span>
        <br>
        <p style="text-align: right">
          <button class="btn btn-primary" data-ng-click="addRider(cars.indexOf(item))">Join Car</button>
          <button class="btn btn-danger" data-ng-click="removeRider(cars.indexOf(item))">Remove Me</button>
        </p>
      </div>
    </div>
    
    <!-- Bootstrap Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </body>
</html>
